<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - MentoraX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base animations and effects */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        @keyframes shootingStar {
            0% { transform: translateX(-100vw) translateY(0) rotate(45deg); opacity: 0; }
            10% { opacity: 1; }
            20% { transform: translateX(100vw) translateY(100vh) rotate(45deg); opacity: 0; }
            100% { opacity: 0; }
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
            50% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(147, 51, 234, 0.6); }
        }
        
        @keyframes warpSpeed {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes cosmicRings {
            0% { transform: scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        /* Custom classes */
        .space-bg {
            background: linear-gradient(125deg, #0a0a2a, #1a1a4a, #0f3460);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .glassmorphism {
            background: rgba(17, 25, 40, 0.75);
            backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.125);
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        .twinkle {
            animation: twinkle 4s ease-in-out infinite;
        }
        
        .shooting-star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px white;
            opacity: 0;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            background: white;
            pointer-events: none;
            opacity: 0;
        }
        
        .typewriter {
            overflow: hidden;
            border-right: .15em solid #3b82f6;
            white-space: nowrap;
            animation: typewriter 3s steps(40, end);
        }
        
        .cosmic-ring {
            position: absolute;
            border-radius: 50%;
            border: 2px solid rgba(59, 130, 246, 0.5);
            opacity: 0;
        }
        
        .film-grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 100;
        }
        
        .parallax {
            transition: transform 0.1s ease-out;
        }
        
        .gravity-well {
            transition: all 0.3s ease-out;
        }
        
        .energy-bar {
            height: 4px;
            border-radius: 2px;
            background: linear-gradient(to right, #ef4444, #f59e0b, #10b981, #3b82f6);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .chromatic-aberration:hover {
            text-shadow: 
                2px 0 rgba(255, 0, 0, 0.5),
                -2px 0 rgba(0, 0, 255, 0.5);
        }
        
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }
        
        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        .biometric-scan {
            position: relative;
            overflow: hidden;
        }
        
        .biometric-scan::after {
            content: '';
            position: absolute;
            top: -50%;
            left: 0;
            width: 100%;
            height: 20px;
            background: linear-gradient(to bottom, transparent, rgba(59, 130, 246, 0.5), transparent);
            animation: scan 2s linear infinite;
        }
        
        @keyframes scan {
            0% { top: -50%; }
            100% { top: 150%; }
        }
        
        .signal-visualization {
            position: relative;
            height: 40px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 3px;
        }
        
        .signal-bar {
            width: 4px;
            background: #3b82f6;
            border-radius: 2px;
            animation: signalPulse 1.5s infinite;
        }
        
        @keyframes signalPulse {
            0%, 100% { height: 5px; opacity: 0.5; }
            50% { height: 20px; opacity: 1; }
        }
        
        .signal-bar:nth-child(2) { animation-delay: 0.1s; }
        .signal-bar:nth-child(3) { animation-delay: 0.2s; }
        .signal-bar:nth-child(4) { animation-delay: 0.3s; }
        .signal-bar:nth-child(5) { animation-delay: 0.4s; }
        
        .constellation-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(to right, transparent, rgba(59, 130, 246, 0.7), transparent);
            transform-origin: left center;
        }
        
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: #1e293b;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .theme-toggle::before {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            background: #f59e0b;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: all 0.3s ease;
        }
        
        .theme-toggle.dark::before {
            transform: translateX(30px);
            background: #3b82f6;
        }
        
        .lens-flare {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            filter: blur(10px);
            opacity: 0.1;
            pointer-events: none;
        }
    </style>
</head>
<body class="space-bg text-white overflow-x-hidden">
    <!-- Film grain overlay -->
    <div class="film-grain"></div>
    
    <!-- Animated starfield background -->
    <div id="starfield" class="fixed inset-0 pointer-events-none z-0"></div>
    
    <!-- Floating elements -->
    <div class="fixed top-1/4 left-1/4 w-20 h-20 rounded-full bg-purple-500/20 blur-xl floating parallax" data-depth="0.1"></div>
    <div class="fixed top-1/3 right-1/4 w-16 h-16 rounded-full bg-blue-500/20 blur-xl floating parallax" data-depth="0.2"></div>
    <div class="fixed bottom-1/4 left-1/3 w-24 h-24 rounded-full bg-indigo-500/15 blur-xl floating parallax" data-depth="0.15"></div>
    
    <!-- Lens flare effects -->
    <div class="lens-flare top-20 right-20"></div>
    <div class="lens-flare bottom-40 left-40"></div>
    
    <!-- Navbar -->
    <nav id="navbar" class="glassmorphism fixed top-0 w-full z-50 transition-all duration-500">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/landing" class="text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-cyan-400 bg-clip-text text-transparent transition-all duration-300 hover:scale-105 chromatic-aberration">
                        <i class="fas fa-rocket mr-2"></i>MentoraX
                    </a>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Theme toggle -->
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-sun text-yellow-300"></i>
                        <div id="themeToggle" class="theme-toggle"></div>
                        <i class="fas fa-moon text-blue-300"></i>
                    </div>
                    <a href="/login" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 bg-gradient-to-r from-blue-600/30 to-purple-600/30 hover:from-blue-600/50 hover:to-purple-600/50 border border-blue-500/30 hover:border-blue-500/50">
                        Login
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Signup Form -->
    <div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative z-10 pt-20">
        <div class="glassmorphism max-w-md w-full space-y-8 p-8 rounded-2xl shadow-2xl border border-gray-700/50 relative overflow-hidden">
            <!-- Particle container for form -->
            <div id="formParticles" class="absolute inset-0 pointer-events-none"></div>
            
            <!-- Biometric scan effect -->
            <div class="biometric-scan absolute inset-0 pointer-events-none opacity-0" id="biometricScan"></div>
            
            <div class="text-center relative z-10">
                <h2 class="mt-2 text-center text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent typewriter">
                    Join Our Community
                </h2>
                <p class="mt-3 text-center text-sm text-gray-400">
                    Already have an account?
                    <a href="/login" class="font-medium text-blue-400 hover:text-blue-300 transition-colors duration-300">
                        Sign in
                    </a>
                </p>
            </div>

            <!-- Alert Message -->
            <div id="alertMessage" class="hidden rounded-lg p-4 border border-transparent transition-all duration-300 relative overflow-hidden">
                <div id="cosmicRings" class="absolute inset-0 pointer-events-none"></div>
                <p id="alertText" class="text-sm relative z-10"></p>
            </div>

            <form id="signupForm" class="mt-8 space-y-6 relative z-10">
                <div class="space-y-5">
                    <div class="gravity-well">
                        <label for="name" class="block text-sm font-medium text-gray-300 mb-2">
                            <i class="fas fa-user-astronaut mr-2"></i>Full Name
                        </label>
                        <input id="name" name="name" type="text" required
                               class="particle-field mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm transition-all duration-300"
                               placeholder="John Doe">
                    </div>

                    <div class="gravity-well">
                        <label for="email" class="block text-sm font-medium text-gray-300 mb-2">
                            <i class="fas fa-envelope mr-2"></i>Email address
                        </label>
                        <input id="email" name="email" type="email" required
                               class="particle-field mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm transition-all duration-300"
                               placeholder="john@example.com">
                    </div>

                    <div class="gravity-well">
                        <label for="password" class="block text-sm font-medium text-gray-300 mb-2">
                            <i class="fas fa-lock mr-2"></i>Password
                        </label>
                        <input id="password" name="password" type="password" required
                               class="particle-field mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm transition-all duration-300"
                               placeholder="Password">
                        <!-- Password strength meter -->
                        <div class="mt-2">
                            <div class="energy-bar" id="passwordStrength"></div>
                            <div class="flex justify-between text-xs text-gray-400 mt-1">
                                <span>Weak</span>
                                <span>Medium</span>
                                <span>Strong</span>
                                <span>Very Strong</span>
                            </div>
                        </div>
                    </div>

                    <div class="gravity-well">
                        <label for="degree" class="block text-sm font-medium text-gray-300 mb-2">
                            <i class="fas fa-graduation-cap mr-2"></i>Degree/Major
                        </label>
                        <input id="degree" name="degree" type="text"
                               class="particle-field mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm transition-all duration-300"
                               placeholder="Computer Science">
                    </div>

                    <div class="gravity-well">
                        <label for="career_goal" class="block text-sm font-medium text-gray-300 mb-2">
                            <i class="fas fa-star mr-2"></i>Career Goal (Optional)
                        </label>
                        <input id="career_goal" name="career_goal" type="text"
                               class="particle-field mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm transition-all duration-300"
                               placeholder="Software Engineer">
                    </div>
                </div>

                <!-- Signal visualization during submission -->
                <div id="signalViz" class="signal-visualization hidden">
                    <div class="signal-bar"></div>
                    <div class="signal-bar"></div>
                    <div class="signal-bar"></div>
                    <div class="signal-bar"></div>
                    <div class="signal-bar"></div>
                </div>

                <div>
                    <button type="submit" id="submitBtn"
                            class="ripple-btn group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-lg transition-all duration-300">
                        <span class="relative z-10 flex items-center">
                            <i class="fas fa-user-plus mr-2"></i>
                            Create Account
                        </span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Constellation connection effect -->
    <div id="constellation" class="fixed inset-0 pointer-events-none z-0"></div>

    <script src="/static/js/config.js"></script>
    <script src="/static/js/auth.js"></script>
    <script>
        // Enhanced initialization with all new features
        document.addEventListener('DOMContentLoaded', function() {
            // Create starfield background
            createStarfield();
            
            // Create shooting stars at random intervals
            setInterval(createShootingStar, 5000);
            
            // Initialize constellation effect
            createConstellation();
            
            // Add parallax effect to floating elements
            initParallax();
            
            // Add gravity effect to form elements
            initGravityEffect();
            
            // Add particle effects to form fields
            initParticleFields();
            
            // Add ripple effect to buttons
            initRippleButtons();
            
            // Initialize theme toggle
            initThemeToggle();
            
            // Password strength indicator
            initPasswordStrength();
            
            // Add scroll effect to navbar
            initNavbarScroll();
            
            // Add input animations
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('transform', 'scale-105');
                    // Create particles around focused field
                    createFieldParticles(this);
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('transform', 'scale-105');
                });
            });
            
            // Enhanced alert display function
            window.showAlert = function(message, type = 'error') {
                const alertDiv = document.getElementById('alertMessage');
                const alertText = document.getElementById('alertText');
                const cosmicRings = document.getElementById('cosmicRings');
                
                alertText.textContent = message;
                
                // Remove existing classes
                alertDiv.className = 'rounded-lg p-4 border transition-all duration-300 relative overflow-hidden';
                
                // Add type-specific classes
                if (type === 'success') {
                    alertDiv.classList.add('bg-green-900/50', 'text-green-300', 'border-green-700');
                    // Create cosmic rings for success
                    createCosmicRings(cosmicRings);
                } else {
                    alertDiv.classList.add('bg-red-900/50', 'text-red-300', 'border-red-700');
                }
                
                // Show alert
                alertDiv.classList.remove('hidden');
                
                // Auto-hide after 5 seconds for success messages
                if (type === 'success') {
                    setTimeout(() => {
                        alertDiv.classList.add('hidden');
                    }, 5000);
                }
            };
        });

        // Form submission handler with enhanced animations
        document.getElementById('signupForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Show biometric scan and signal visualization
            const biometricScan = document.getElementById('biometricScan');
            const signalViz = document.getElementById('signalViz');
            const submitBtn = document.getElementById('submitBtn');
            
            biometricScan.classList.remove('opacity-0');
            signalViz.classList.remove('hidden');
            submitBtn.classList.add('warp-speed');
            submitBtn.style.animation = 'warpSpeed 1s infinite';
            
            // Add loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="relative z-10 flex items-center"><i class="fas fa-spinner fa-spin mr-2"></i> Establishing Connection...</span>';
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const degree = document.getElementById('degree').value || null;
            const career_goal = document.getElementById('career_goal').value || null;

            try {
                await signupUser(name, email, password, degree, career_goal);
                // Success animation will be handled in auth.js
            } catch (error) {
                // Reset UI on error
                biometricScan.classList.add('opacity-0');
                signalViz.classList.add('hidden');
                submitBtn.classList.remove('warp-speed');
                submitBtn.style.animation = '';
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<span class="relative z-10 flex items-center"><i class="fas fa-user-plus mr-2"></i>Create Account</span>';
            }
        });

        // Starfield creation
        function createStarfield() {
            const starfield = document.getElementById('starfield');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                const size = Math.random() * 3;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const delay = Math.random() * 5;
                
                star.style.position = 'absolute';
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.backgroundColor = 'white';
                star.style.borderRadius = '50%';
                star.style.left = `${posX}%`;
                star.style.top = `${posY}%`;
                star.style.opacity = Math.random() * 0.7 + 0.3;
                star.style.animation = `twinkle ${3 + Math.random() * 4}s ease-in-out infinite`;
                star.style.animationDelay = `${delay}s`;
                
                starfield.appendChild(star);
            }
        }
        
        // Shooting star creation
        function createShootingStar() {
            const shootingStar = document.createElement('div');
            shootingStar.className = 'shooting-star';
            
            const startY = Math.random() * 50;
            const duration = 2 + Math.random() * 2;
            
            shootingStar.style.top = `${startY}%`;
            shootingStar.style.animation = `shootingStar ${duration}s linear`;
            
            document.body.appendChild(shootingStar);
            
            // Remove after animation completes
            setTimeout(() => {
                document.body.removeChild(shootingStar);
            }, duration * 1000);
        }
        
        // Constellation creation
        function createConstellation() {
            const constellation = document.getElementById('constellation');
            const starCount = 30;
            const stars = [];
            
            // Create stars
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                const size = 2 + Math.random() * 3;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                
                star.style.position = 'absolute';
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.backgroundColor = 'white';
                star.style.borderRadius = '50%';
                star.style.left = `${posX}%`;
                star.style.top = `${posY}%`;
                star.style.opacity = 0.7;
                star.style.boxShadow = '0 0 5px white';
                star.classList.add('twinkle');
                
                constellation.appendChild(star);
                stars.push({element: star, x: posX, y: posY});
            }
            
            // Create connections between nearby stars
            for (let i = 0; i < stars.length; i++) {
                for (let j = i + 1; j < stars.length; j++) {
                    const starA = stars[i];
                    const starB = stars[j];
                    
                    const distance = Math.sqrt(
                        Math.pow(starA.x - starB.x, 2) + 
                        Math.pow(starA.y - starB.y, 2)
                    );
                    
                    // Only connect stars that are close enough
                    if (distance < 20) {
                        const line = document.createElement('div');
                        line.className = 'constellation-line';
                        
                        const angle = Math.atan2(starB.y - starA.y, starB.x - starA.x) * 180 / Math.PI;
                        const length = distance;
                        
                        line.style.width = `${length}%`;
                        line.style.left = `${starA.x}%`;
                        line.style.top = `${starA.y}%`;
                        line.style.transform = `rotate(${angle}deg)`;
                        line.style.opacity = 0.3;
                        
                        constellation.appendChild(line);
                    }
                }
            }
        }
        
        // Parallax effect initialization
        function initParallax() {
            document.addEventListener('mousemove', (e) => {
                const parallaxElements = document.querySelectorAll('.parallax');
                const mouseX = e.clientX / window.innerWidth;
                const mouseY = e.clientY / window.innerHeight;
                
                parallaxElements.forEach(el => {
                    const depth = parseFloat(el.getAttribute('data-depth')) || 0.1;
                    const moveX = (mouseX - 0.5) * depth * 100;
                    const moveY = (mouseY - 0.5) * depth * 100;
                    
                    el.style.transform = `translate(${moveX}px, ${moveY}px)`;
                });
            });
        }
        
        // Gravity effect initialization
        function initGravityEffect() {
            document.addEventListener('mousemove', (e) => {
                const gravityWells = document.querySelectorAll('.gravity-well');
                const mouseX = e.clientX;
                const mouseY = e.clientY;
                
                gravityWells.forEach(well => {
                    const rect = well.getBoundingClientRect();
                    const wellCenterX = rect.left + rect.width / 2;
                    const wellCenterY = rect.top + rect.height / 2;
                    
                    const distance = Math.sqrt(
                        Math.pow(mouseX - wellCenterX, 2) + 
                        Math.pow(mouseY - wellCenterY, 2)
                    );
                    
                    if (distance < 200) {
                        const force = (200 - distance) / 200;
                        const moveX = (wellCenterX - mouseX) * force * 0.01;
                        const moveY = (wellCenterY - mouseY) * force * 0.01;
                        
                        well.style.transform = `translate(${moveX}px, ${moveY}px)`;
                    } else {
                        well.style.transform = 'translate(0, 0)';
                    }
                });
            });
        }
        
        // Particle fields initialization
        function initParticleFields() {
            const particleFields = document.querySelectorAll('.particle-field');
            
            particleFields.forEach(field => {
                field.addEventListener('focus', function() {
                    createFieldParticles(this);
                });
            });
        }
        
        // Create particles around form field
        function createFieldParticles(field) {
            const rect = field.getBoundingClientRect();
            const particleContainer = document.getElementById('formParticles');
            
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = 2 + Math.random() * 3;
                const startX = rect.left + Math.random() * rect.width;
                const startY = rect.top + Math.random() * rect.height;
                const angle = Math.random() * Math.PI * 2;
                const distance = 20 + Math.random() * 30;
                const duration = 1 + Math.random() * 1;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${startX}px`;
                particle.style.top = `${startY}px`;
                particle.style.backgroundColor = `hsl(${Math.random() * 60 + 200}, 70%, 60%)`;
                
                particleContainer.appendChild(particle);
                
                // Animate particle
                setTimeout(() => {
                    particle.style.transition = `all ${duration}s ease-out`;
                    particle.style.opacity = '0.8';
                    particle.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                    
                    // Remove particle after animation
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, duration * 1000);
                }, 10);
            }
        }
        
        // Ripple buttons initialization
        function initRippleButtons() {
            const rippleButtons = document.querySelectorAll('.ripple-btn');
            
            rippleButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const ripple = document.createElement('span');
                    ripple.className = 'ripple';
                    ripple.style.left = `${x}px`;
                    ripple.style.top = `${y}px`;
                    
                    this.appendChild(ripple);
                    
                    // Remove ripple after animation
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });
        }
        
        // Theme toggle initialization
        function initThemeToggle() {
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;
            
            themeToggle.addEventListener('click', function() {
                this.classList.toggle('dark');
                
                if (this.classList.contains('dark')) {
                    body.classList.remove('space-bg');
                    body.classList.add('bg-gradient-to-br', 'from-gray-900', 'to-gray-700');
                    // Change star colors for light theme
                    document.querySelectorAll('#starfield div').forEach(star => {
                        star.style.backgroundColor = '#1e293b';
                    });
                } else {
                    body.classList.add('space-bg');
                    body.classList.remove('bg-gradient-to-br', 'from-gray-900', 'to-gray-700');
                    // Reset star colors
                    document.querySelectorAll('#starfield div').forEach(star => {
                        star.style.backgroundColor = 'white';
                    });
                }
            });
        }
        
        // Password strength initialization
        function initPasswordStrength() {
            const passwordInput = document.getElementById('password');
            const strengthBar = document.getElementById('passwordStrength');
            
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;
                
                // Length check
                if (password.length >= 8) strength += 25;
                
                // Contains lowercase
                if (/[a-z]/.test(password)) strength += 25;
                
                // Contains uppercase
                if (/[A-Z]/.test(password)) strength += 25;
                
                // Contains numbers or special characters
                if (/[0-9]/.test(password) || /[^A-Za-z0-9]/.test(password)) strength += 25;
                
                strengthBar.style.width = `${strength}%`;
                
                // Change color based on strength
                if (strength < 50) {
                    strengthBar.style.background = 'linear-gradient(to right, #ef4444, #f59e0b)';
                } else if (strength < 75) {
                    strengthBar.style.background = 'linear-gradient(to right, #f59e0b, #10b981)';
                } else {
                    strengthBar.style.background = 'linear-gradient(to right, #10b981, #3b82f6)';
                }
            });
        }
        
        // Navbar scroll effect
        function initNavbarScroll() {
            const navbar = document.getElementById('navbar');
            let lastScrollY = window.scrollY;
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    navbar.classList.add('bg-gray-900/90');
                    navbar.classList.remove('glassmorphism');
                } else {
                    navbar.classList.remove('bg-gray-900/90');
                    navbar.classList.add('glassmorphism');
                }
                
                // Hide navbar on scroll down, show on scroll up
                if (window.scrollY > lastScrollY && window.scrollY > 100) {
                    navbar.style.transform = 'translateY(-100%)';
                } else {
                    navbar.style.transform = 'translateY(0)';
                }
                
                lastScrollY = window.scrollY;
            });
        }
        
        // Create cosmic rings for success animation
        function createCosmicRings(container) {
            for (let i = 0; i < 3; i++) {
                const ring = document.createElement('div');
                ring.className = 'cosmic-ring';
                
                const size = 50 + i * 50;
                const delay = i * 0.3;
                
                ring.style.width = `${size}px`;
                ring.style.height = `${size}px`;
                ring.style.left = '50%';
                ring.style.top = '50%';
                ring.style.marginLeft = `-${size/2}px`;
                ring.style.marginTop = `-${size/2}px`;
                ring.style.animation = `cosmicRings 1.5s ease-out ${delay}s`;
                
                container.appendChild(ring);

                // Remove after animation
                setTimeout(() => {
                    if (ring.parentNode) {
                        ring.parentNode.removeChild(ring);
                    }
                }, 2000);
            }
        }
    </script>
</body>
</html>