<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Guidance - MentoraX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom animations and styles */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }

        .animate-fadeInUp {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .animate-shimmer {
            animation: shimmer 2s infinite linear;
            background: linear-gradient(to right, #1f2937 4%, #374151 25%, #1f2937 36%);
            background-size: 1000px 100%;
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
        }

        .skill-tag {
            transition: all 0.2s ease;
        }

        .skill-tag:hover {
            transform: scale(1.05);
            background-color: #3b82f6;
        }

        .gradient-border {
            position: relative;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            padding: 1px;
            border-radius: 0.75rem;
        }

        .gradient-border::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0.75rem;
            padding: 2px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
        }

        .sidebar-item {
            position: relative;
            overflow: hidden;
        }

        .sidebar-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transition: width 0.3s ease;
        }

        .sidebar-item:hover::after {
            width: 100%;
        }

        .sidebar-item.active::after {
            width: 100%;
        }

        .pulse-glow {
            box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
            animation: pulse-glow 2s infinite;
        }

        @keyframes pulse-glow {
            0% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
            }
        }

        .progress-bar {
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            width: 0%;
            transition: width 1.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">
    <!-- Navbar -->
    <nav class="bg-gray-800 shadow-xl sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">MentoraX</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/dashboard" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300">Dashboard</a>
                    <button onclick="logoutUser()" class="text-gray-300 hover:text-red-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="flex">
        <!-- Sidebar -->
        <div class="w-64 bg-gray-800 shadow-xl h-screen sticky top-0 hidden md:block">
            <div class="p-6">
                <nav class="space-y-2">
                    <a href="/dashboard" class="sidebar-item flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition-all duration-300">
                        <span class="text-xl mr-3">ðŸ“Š</span>
                        <span class="font-medium">Dashboard</span>
                    </a>
                    <a href="/career-guidance" class="sidebar-item active flex items-center px-4 py-3 text-white bg-gradient-to-r from-blue-900/30 to-purple-900/30 rounded-lg transition-all duration-300">
                        <span class="text-xl mr-3">ðŸŽ¯</span>
                        <span class="font-medium">Career Guidance</span>
                    </a>
                    <a href="#" class="sidebar-item flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition-all duration-300">
                        <span class="text-xl mr-3">ðŸ’¼</span>
                        <span class="font-medium">Opportunities</span>
                    </a>
                    <a href="/profile" class="sidebar-item flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition-all duration-300">
                        <span class="text-xl mr-3">ðŸ‘¤</span>
                        <span class="font-medium">Profile</span>
                    </a>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-4 md:p-8">
            <div class="animate-fadeInUp">
                <h2 class="text-3xl font-bold text-white mb-2">AI Career Guidance</h2>
                <p class="text-gray-400 mb-8">Get personalized career recommendations powered by AI</p>
            </div>

            <!-- Profile Summary Card -->
            <div id="profileCard" class="gradient-border rounded-lg mb-6 animate-fadeInUp" style="animation-delay: 0.1s;">
                <div class="bg-gray-800 rounded-lg p-6">
                    <h3 class="text-xl font-bold text-white mb-4">Your Profile</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div>
                            <p class="text-sm text-gray-400">Degree</p>
                            <p id="profileDegree" class="font-medium text-white">--</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-400">Career Goal</p>
                            <p id="profileGoal" class="font-medium text-white">--</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-400">Skills</p>
                            <p id="profileSkillsCount" class="font-medium text-white">--</p>
                        </div>
                    </div>
                    <div id="profileSkills" class="flex flex-wrap gap-2">
                        <!-- Skills will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Get Recommendations Button -->
            <div class="text-center mb-8 animate-fadeInUp" style="animation-delay: 0.2s;">
                <button onclick="getCareerRecommendations()" id="getRecommendationsBtn"
                        class="pulse-glow bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105">
                    ðŸŽ¯ Get Career Recommendations
                </button>
                <p class="text-sm text-gray-400 mt-2">AI will analyze your profile and suggest career paths</p>
            </div>

            <!-- Loading State -->
            <div id="loadingState" class="hidden text-center py-12">
                <div class="inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mb-4"></div>
                <p class="text-gray-400 mb-2">AI is analyzing your profile...</p>
                <div class="w-64 h-1 bg-gray-700 rounded-full mx-auto overflow-hidden">
                    <div class="progress-bar h-full"></div>
                </div>
            </div>

            <!-- Career Paths -->
            <div id="careerPaths" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Recommended Career Paths</h3>
                <div id="careerPathsContainer" class="space-y-6">
                    <!-- Career path cards will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/config.js"></script>
    <script src="/static/js/auth.js"></script>
    <script src="/static/js/career.js"></script>

    <script>
        // Enhanced JavaScript for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Animate elements on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe elements for scroll animations
            document.querySelectorAll('.card-hover').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });

            // Simulate progress bar during loading
            window.simulateProgress = function() {
                const progressBar = document.querySelector('.progress-bar');
                let width = 0;
                const interval = setInterval(() => {
                    if (width >= 100) {
                        clearInterval(interval);
                    } else {
                        width += Math.random() * 10;
                        if (width > 100) width = 100;
                        progressBar.style.width = width + '%';
                    }
                }, 300);
            };

            // Enhanced button interaction
            const getRecommendationsBtn = document.getElementById('getRecommendationsBtn');
            if (getRecommendationsBtn) {
                getRecommendationsBtn.addEventListener('mouseenter', function() {
                    this.classList.add('shadow-lg');
                });

                getRecommendationsBtn.addEventListener('mouseleave', function() {
                    this.classList.remove('shadow-lg');
                });
            }
        });
    </script>
</body>
</html>